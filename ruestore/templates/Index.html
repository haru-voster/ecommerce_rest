<!DOCTYPE html>
<html>
<head>
<title>Products</title>
</head>
<body>

<h2>Products</h2>
<div id="products"></div>

<script>
fetch("http://127.0.0.1:8000/api/products/")
.then(res=>res.json())
.then(data=>{
    let container=document.getElementById("products");

    data.forEach(p=>{
        container.innerHTML+=`
        <div style="border:1px solid #ccc;padding:10px;margin:10px">
            <img src="${p.image}" width="150"><br>
            <b>${p.name}</b><br>
            Ksh ${p.price}<br>
            RAM: ${p.ram}<br>
            <button onclick="viewProduct('${p.name}','${p.processor}','${p.storage}')">
                View
            </button>
        </div>
        `;
    })
});

function viewProduct(name, cpu, storage){
    alert(name + "\nCPU: "+cpu+"\nStorage:"+storage);
}
</script>

</body>
</html>
